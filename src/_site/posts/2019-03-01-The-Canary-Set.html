<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<!--
You have entered the realm of

 ▄▄▄▄    ██▀███   ▄▄▄       ███▄    █ ▓█████   ██████  ██░ ██  ▒█████   ██▓███  
▓█████▄ ▓██ ▒ ██▒▒████▄     ██ ▀█   █ ▓█   ▀ ▒██    ▒ ▓██░ ██▒▒██▒  ██▒▓██░  ██▒
▒██▒ ▄██▓██ ░▄█ ▒▒██  ▀█▄  ▓██  ▀█ ██▒▒███   ░ ▓██▄   ▒██▀▀██░▒██░  ██▒▓██░ ██▓▒
▒██░█▀  ▒██▀▀█▄  ░██▄▄▄▄██ ▓██▒  ▐▌██▒▒▓█  ▄   ▒   ██▒░▓█ ░██ ▒██   ██░▒██▄█▓▒ ▒
░▓█  ▀█▓░██▓ ▒██▒ ▓█   ▓██▒▒██░   ▓██░░▒████▒▒██████▒▒░▓█▒░██▓░ ████▓▒░▒██▒ ░  ░
░▒▓███▀▒░ ▒▓ ░▒▓░ ▒▒   ▓▒█░░ ▒░   ▒ ▒ ░░ ▒░ ░▒ ▒▓▒ ▒ ░ ▒ ░░▒░▒░ ▒░▒░▒░ ▒▓▒░ ░  ░
▒░▒   ░   ░▒ ░ ▒░  ▒   ▒▒ ░░ ░░   ░ ▒░ ░ ░  ░░ ░▒  ░ ░ ▒ ░▒░ ░  ░ ▒ ▒░ ░▒ ░     
 ░    ░   ░░   ░   ░   ▒      ░   ░ ░    ░   ░  ░  ░   ░  ░░ ░░ ░ ░ ▒  ░░       
 ░         ░           ░  ░         ░    ░  ░      ░   ░  ░  ░    ░ ░           
      ░                                                                         
-->

  <meta name="google-site-verification" content="cKie6SUiby1JmI2F8RMscJRBTa28kTM6XNHS5l1GXxc" />

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-131177872-1"></script>
  <script type="text/javascript">
    var host = window.location.hostname;
    if ( host != "localhost") {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-131177872-1');
    }
  </script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>The Canary Set for Machine Learning Applications - Braneshop</title>
  <meta name="geo.region" content="AU-VIC" />
  <meta name="geo.placename" content="Melbourne" />
  <link rel="stylesheet" type="text/css" href="../css/default.css?1" />
  <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
  <link href="https://fonts.googleapis.com/css?family=PT+Mono|Lato|DM+Serif+Text|Karma|Gilda+Display|Quando" rel="stylesheet">
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- Meta tags for little cards and such. -->
  <meta property="og:title" content="The Canary Set for Machine Learning Applications - Braneshop" />
  
  <meta property="og:url" content="https://braneshop.com.au/posts/2019-03-01-The-Canary-Set.html" />
</head>
<body>
  <div id="braneshop-fixed" onclick="document.location = '/';"></div>
  <!-- Header -->
  <div id="header">
    <div id="header-top">
      <h1><a href="../"><img id="header-logo" class="compressed" src="../images/frozen.png" title="Braneshop (Frozen)" alt="Braneshop (Frozen)" /></a></h1>
    </div>
    <h2>Expand your knowledge manifold!</h2>
  </div>
  <div class="menu-box">
    <ul class="menu">
      <li><a href="../" title="Home">Home</a></li>
      <li><a href="../about.html" title="About">About</a></li>
      <li><a href="../blog.html" title="Blog">Blog</a></li>
      <li><a href="../showreel.html" title="Showreel">Showreel</a></li>
    </ul>
  </div>

  <!-- Content -->
  <div id="content">
    <div class="section">
  <div class="info">
    Posted on March  1, 2019
    
      by Noon van der Silk
    
		| <a title="Blog: Recent posts" href="../blog.html">Back to recent posts</a>
  </div>

  <h4 class="blog-title">The Canary Set for Machine Learning Applications</h4>

  
    <span class="tags">Tags: <a href="../tags/tools.html">tools</a></span>
  


  

  


<p>Earlier this week I was chatting to some people and we came up with a good idea. It’s what I refer to now as the “Canary Set”.</p>
<p>We’re probably all familiar with the standard “canary in the cage” idea:</p>
<center>
<p>
The standard canary in a cage.
</p>
<img src="../images/blog/canary-cage.png" alt="The standard canary in a cage." />
</center>
<p>It’s an item that can be carried with you into your hazardous job, and when it dies, it’s suggestive that the place your working in is unsafe. Poor canary.</p>
<p>I’d like to propose that this can be a useful idea in machine learning, where instead of a canary, we carry around an “interesting set” of data:</p>
<center>
<p>
A Canary Set of interesting data points.
</p>
<img src="../images/blog/canary-cage-data.png" alt="A Canary Set of data" />
</center>
<p>This would be called the “Canary Set” of data, and every time a new deployment of your ML model comes out, you run the mdoel across this dataset to see how it performs.</p>
<center>
<p>
Going in …
</p>
<br /> <img src="../images/blog/canary-cage-ai.png" alt="The canary set going through the next version of the AI" /> <br /> <br />
<p>
Coming out with a report …
</p>
<br /> <img src="../images/blog/canary-cage-ai-out.png" alt="The canary set coming out with a report!" />
</center>
<p>Let’s go into a few details of why we might want this, how it differs from the “test” or “validation” set during the training/evaluation phase of machine learning algorithms, and what benefits we might get from it.</p>
<!--more-->
<h4 id="the-canary-set-main-justification">The Canary Set: Main Justification</h4>
<p>The main point of the canary set is to give <strong>users of your machine learning service</strong> control over a set of data that they want to evaluate your new models against. In this way, it differs significantly from the standard “test” set in that it doesn’t need to contain a well-distributed set of samples, it just needs to contain those samples that the <strong>user</strong> is interested in.</p>
<p>These might be:</p>
<ul class="normal">
<li>
Rare inputs,
</li>
<li>
Inputs for which they are uniquely concerned, as compared to other users,
</li>
<li>
“Extreme” inputs, that check areas they are interested in,
</li>
<li>
A random selection of their past inputs,
</li>
<li>
… many more ideas!
</li>
</ul>
<p>I think there’s a world of options here. The point is: <strong>The user gets some control</strong>. And this is a nice idea, given that we want them to be gaining confidence in the ML system.</p>
<h4 id="secondary-benefits">Secondary benefits</h4>
<p>Increasingly we’re going to see that there will be different environments for ML training and inference. We’ve already explored this in our last blog post on <a href="../posts/2019-02-08-TensorFlowJS-How-to-easily-deploy-deep-learning-models.html">TensorFlow.js</a>, but there are also the growing number of so-called “edge devices”, the <a href="https://cloud.google.com/edge-tpu/">Google Edge TPU</a>, the <a href="https://www.movidius.com/">Movidius</a> and the <a href="http://jevois.org/">JeVois</a>, among others.</p>
<p>The point is, we can’t actually guarantee that when we do testing of our model during training that it will agree exactly with the inference world, because there may be many stages in between.</p>
<p>This actually came up on a project I was working on last year. We trained a model, and when we deployed it to the cloud, it didn’t work well. We tracked it down to a bug in the GPU code relating to some post-processing of the models output. This error was only found becaues I decided it would be a good idea to test the model on some “real” data, before making it live. In other words, I made up my own canary set and tested the model on that first, before making it live.</p>
<h4 id="conclusion">Conclusion</h4>
<p>In summary, the idea is that in any machine learning service, for users, that you build, you could consider adding the facility for the users to be involved in selecting a set of data that is used to evaluate any new versions of the models.</p>
<p>The benefits are:</p>
<ul class="normal">
<li>
Increasing user engagement and trust,
</li>
<li>
finding new interesting edge-cases where your algorithm fails,
</li>
<li>
and ensuring the quality of inference when you may not be in control of the inference endpoint.
</li>
</ul>
<p>Hope this idea is helpful!</p>



  <hr />

  <div class="next-posts"> 
    
    <a href="../posts/2019-03-06-Mindful-Neural-Networks.html">Next post: Mindful Neural Networks</a>
    
    <a href="../posts/2019-02-08-TensorFlowJS-How-to-easily-deploy-deep-learning-models.html">Previous post: TensorFlow.js - How to easily deploy deep learning models</a>
    
  </div>
</div>



  </div>

  <!-- Footer -->
  <div id="footer">

    <div id="acknowledgement">
      <img src="../images/atsi.webp" alt="Flags of the First Nations Peoples of Australia" />
      <p> Braneshop is located on the traditional lands of the people of the
      Kulin nation. We acknowledge that sovereignty was never ceded and pay
      our respects to elders past, present and emerging.
      <a href="https://www.goodreads.com/book/show/48254342-finding-the-heart-of-the-nation" rel="noopener">Finding the Heart of the Nation</a>.
      </p>
    </div>

    <div id="small-links">
      <div class="link-section">
        <h6>Links</h6>
        <a href="../">Home</a>
        <a href="../blog.html">Blog</a>
        <a href="../showreel.html">Deep learning showreel</a>
      </div>

      <div class="link-section">
        <h6>Tools/Fun</h6>
        <a href="../thesetestimonialsdontexist.html">These testimonials don't exist ...</a>
        <a href="../object-detection-in-the-browser.html">Object-detection in the browser!</a>
        <a href="https://silky.github.io/cppn-playground/">The CPPN Playground</a>
      </div>
    </div>


  </div>

  <script type="text/javascript">
  window.onload = function() {
    const prism = document.getElementById("braneshop-fixed")
    var h = 80;

    function setFrame(frame) {
      var f = frame % 120;
      prism.style["background-position"] = "0 " + "-" + (f*h) + "pt";
    }

    document.addEventListener('scroll', function(x) {
      setFrame(Math.floor(window.scrollY/30))
    }, false)
  }
  </script>
</html>
